import ctypes
import os

class XGetRes:
    def __init__(self):
        self.func = ctypes.CDLL("xgetres.so")
       # SELF.FUNc = ctypes.CDLL(os.environ['HOME']+"/.i3/lemonbar/xgetres.so")
       # char = 
       # self.func.argtypes = char
       # self.func.restype = [ctypes.c_char_p]
        
    def xgetres(self, res, encode='utf8'):
        ret = ctypes.c_char_p()
        i = ctypes.c_int()
        if type(res) == str:
            res = ctypes.c_char_p(res.encode(encode))
            i = self.func.print_xresource(res, ctypes.byref(ret))
            if i != -1:
                 return ret.value.decode(encode)
        return None

if __name__ == "__main__":
    test = XGetRes()
    print(test.xgetres('color0'))
